<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOBIS ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìˆœìœ„</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome (for the reel icon) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style>
        /* ì»¤ìŠ¤í…€ ì„¤ì •: ì´ë¯¸ì§€ì˜ ê¹Šì€ ê²€ì€ìƒ‰ ë°°ê²½ê³¼ ë‘¥ê·¼ ëª¨ì„œë¦¬ ì¬í˜„ */
        :root {
            --bg-dark: #121212;
            --panel-dark: #1e1e1e;
            --input-dark: #2a2a2a;
            --text-light: #e0e0e0;
            --blue-accent: #3b82f6; /* ì¡°íšŒ ë²„íŠ¼ ìƒ‰ìƒ */
            --border-color: #333333;
            --red-accent: #ef4444; /* ì‚­ì œ/ê²½ê³  */
            --star-color: #FFD700; /* ë³„ì  ìƒ‰ìƒ */
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-family: 'Inter', sans-serif;
        }

        /* íŒ¨ë„ ìŠ¤íƒ€ì¼ (ì´ë¯¸ì§€ì™€ ë™ì¼í•œ ì§™ì€ ë°°ê²½) */
        .panel {
            background-color: var(--panel-dark);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            border: 1px solid var(--border-color); /* í…Œë‘ë¦¬ ì¶”ê°€ */
        }

        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        .input-style {
            background-color: var(--input-dark);
            border: 1px solid var(--border-color);
            color: var(--text-light);
            padding: 8px 12px;
            border-radius: 4px;
            outline: none;
            transition: border-color 0.2s;
        }

        .input-style:focus {
            border-color: var(--blue-accent);
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
        .ranking-table th {
            padding: 15px 12px;
            background-color: #252525;
            border-bottom: 2px solid var(--border-color);
            font-weight: 600;
            white-space: nowrap; /* ì»¬ëŸ¼ëª…ì´ ì¤„ë°”ê¿ˆë˜ì§€ ì•Šë„ë¡ */
        }

        .ranking-table td {
            padding: 12px;
            border-bottom: 1px solid #2f2f2f;
        }

        .ranking-table tbody tr:hover {
            background-color: #252525;
        }

        /* í™œì„±í™”ëœ í•„í„° ë²„íŠ¼ */
        .filter-btn.active {
            background-color: #4a4a4a;
            border-color: #4a4a4a;
            color: white;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- í—¤ë” -->
    <header class="bg-black/20 p-4 border-b border-gray-700 flex justify-between items-center shadow-md">
        <div class="text-xl font-bold text-white" id="headerTitle">KOBIS ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤</div>
        <i class="fas fa-video text-2xl text-gray-500"></i>
    </header>
    
    <main class="container mx-auto p-4 md:p-8">
        
        <!-- ======================================= 1. ìˆœìœ„ í˜ì´ì§€ (Ranking View) ======================================= -->
        <div id="rankingView">
            <!-- ê²€ìƒ‰ ì¡°ê±´ íŒ¨ë„ -->
            <section id="searchPanel" class="panel p-6 md:p-8 mb-8">
                
                <!-- ì¡°íšŒ ë‚ ì§œ/ê°œìˆ˜ -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-x-6 gap-y-4 mb-6 pb-4 border-b border-gray-700">
                    
                    <!-- ì¡°íšŒ ë‚ ì§œ -->
                    <div class="flex flex-col col-span-1 md:col-span-2">
                        <label for="date-select" class="text-sm font-medium mb-1">ì¡°íšŒ ë‚ ì§œ</label>
                        <input type="text" id="date-select" value="2024. 04. 24." class="input-style w-full" placeholder="YYYYMMDD">
                        <span class="text-xs text-gray-500 mt-1">yyyymmdd í˜•ì‹ ì „ì†¡</span>
                    </div>
                    
                    <!-- í‘œì‹œ ê°œìˆ˜ -->
                    <div class="flex flex-col col-span-1 md:col-span-2">
                        <label for="count-select" class="text-sm font-medium mb-1">í‘œì‹œ ê°œìˆ˜ (â‰¤100)</label>
                        <input type="number" id="count-select" value="20" min="1" max="100" class="input-style w-full" title="í‘œì‹œ ê°œìˆ˜">
                    </div>

                </div>

                <!-- í•„í„° ë“œë¡­ë‹¤ìš´ ë° ì½”ë“œ -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-x-6 gap-y-4 mb-6">
                    <!-- ë°°ê¸‰ì‚¬/ìƒì˜ì‚¬ -->
                    <div class="flex flex-col">
                        <label for="company-select" class="text-sm font-medium mb-1">ë°°ê¸‰ì‚¬/ìƒì˜ì‚¬</label>
                        <select id="company-select" class="input-style">
                            <option value="all">ì „ì²´</option>
                            <option value="CJ">CJ</option>
                        </select>
                    </div>
                    
                    <!-- êµ­ì  -->
                    <div class="flex flex-col">
                        <label for="nation-select" class="text-sm font-medium mb-1">êµ­ì </label>
                        <select id="nation-select" class="input-style">
                            <option value="all">ì „ì²´</option>
                            <option value="KR">êµ­ë‚´</option>
                        </select>
                    </div>

                    <!-- ì˜í™” ì œëª© ì¡°íšŒ -->
                    <div class="flex flex-col col-span-2">
                        <label for="branch-code" class="text-sm font-medium mb-1">ì˜í™” ì œëª©</label>
                        <input type="text" id="branch-code" class="input-style" placeholder="(ì„ íƒ)">
                    </div>
                </div>

                <!-- í•„í„° ë²„íŠ¼ ë° ì¡°íšŒ ë²„íŠ¼ -->
                <div class="flex flex-col sm:flex-row sm:items-center justify-between pt-4 border-t border-gray-700">
                    <!-- í•„í„° ë²„íŠ¼ ê·¸ë£¹ -->
                    <div class="flex space-x-2 mb-4 sm:mb-0">
                        <span class="font-medium mr-1 text-gray-400">ì •ë ¬:</span>
                        <button class="filter-btn active input-style text-sm font-medium bg-gray-600 border-gray-600 hover:bg-gray-700">ì˜¤ë¦„ì°¨ìˆœ</button>
                        <button class="filter-btn input-style text-sm font-medium bg-gray-600 border-gray-600 hover:bg-gray-700">ë‚´ë¦¼ì°¨ìˆœ</button>
                        
                    </div>
                    
                    <!-- ì¡°íšŒ/ì–´ì œ ë‚ ì§œ ë²„íŠ¼ -->
                    <div class="flex space-x-3">
                        <button id="yesterday-btn" class="py-2 px-4 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition duration-150 text-sm">
                            ì–´ì œ ë‚ ì§œ
                        </button>
                        <button id="search-btn" class="py-2 px-6 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-150 text-sm">
                            ì¡°íšŒ
                        </button>
                    </div>
                </div>

                <p class="text-xs text-gray-500 mt-4">ì›ë£Œ: <strong id="resultCount">10ê±´</strong></p>
            </section>

            <!-- ìˆœìœ„ ê²°ê³¼ í…Œì´ë¸” -->
            <section class="panel p-6 md:p-8">
                <h3 class="text-xl font-semibold mb-6 text-white border-b border-gray-700 pb-3">
                    ğŸ“Š ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ìˆœìœ„
                </h3>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full text-left ranking-table text-sm">
                        <thead>
                            <tr>
                                <th scope="col" class="font-bold">ìˆœìœ„</th>
                                <th scope="col" class="font-bold">ì˜í™”ëª…</th>
                                <th scope="col" class="font-bold">ê°œë´‰ì¼</th>
                                <th scope="col" class="font-bold text-right">ë§¤ì¶œì•¡</th>
                                <th scope="col" class="font-bold text-right">ê´€ê°ìˆ˜</th>
                                <th scope="col" class="font-bold text-right">ëˆ„ì  ê´€ê°ìˆ˜</th>
                                <th scope="col" class="font-bold text-right">ì „ì¼ëŒ€ë¹„ ì¦ê°ë¹„ìœ¨</th>
                                <th scope="col" class="font-bold text-right">ìƒì˜ íšŸìˆ˜</th>
                            </tr>
                        </thead>
                        <tbody id="rankingBody">
                            <!-- Mock data rows -->
                            <tr class="text-gray-300 ranking-row" data-movie-id="1001" data-movie-title="ë²”ì£„ë„ì‹œ 4">
                                <td class="font-bold text-lg text-blue-400">1</td>
                                <td class="font-semibold text-white cursor-pointer hover:underline" onclick="navigateTo('detail', '1001')">ë²”ì£„ë„ì‹œ 4</td>
                                <td>2024.04.24</td>
                                <td class="text-right text-green-400">1,500,000,000</td>
                                <td class="text-right text-yellow-300">120,000</td>
                                <td class="text-right">4,500,000</td>
                                <td class="text-right text-green-400">â–² 15.3%</td>
                                <td class="text-right">1,500</td>
                            </tr>
                            <tr class="text-gray-300 ranking-row" data-movie-id="1002" data-movie-title="íŒŒë¬˜">
                                <td class="font-bold text-lg text-blue-400">2</td>
                                <td class="font-semibold text-white cursor-pointer hover:underline" onclick="navigateTo('detail', '1002')">íŒŒë¬˜</td>
                                <td>2024.02.22</td>
                                <td class="text-right text-green-400">900,000,000</td>
                                <td class="text-right text-yellow-300">85,000</td>
                                <td class="text-right">10,500,000</td>
                                <td class="text-right text-red-400">â–¼ 3.5%</td>
                                <td class="text-right">1,200</td>
                            </tr>
                            <tr class="text-gray-300 ranking-row" data-movie-id="1003" data-movie-title="ë“„: íŒŒíŠ¸ 2">
                                <td class="font-bold text-lg text-blue-400">4</td>
                                <td class="font-semibold text-white cursor-pointer hover:underline" onclick="navigateTo('detail', '1003')">ë“„: íŒŒíŠ¸ 2</td>
                                <td>2024.02.28</td>
                                <td class="text-right text-green-400">650,000,000</td>
                                <td class="text-right text-yellow-300">60,000</td>
                                <td class="text-right">2,800,000</td>
                                <td class="text-right text-green-400">â–² 1.0%</td>
                                <td class="text-right">900</td>
                            </tr>
                            <tr class="text-gray-300 ranking-row" data-movie-id="1004" data-movie-title="ì¿µí‘¸íŒ¬ë” 4">
                                <td class="font-bold text-lg text-blue-400">11</td>
                                <td class="font-semibold text-white cursor-pointer hover:underline" onclick="navigateTo('detail', '1004')">ì¿µí‘¸íŒ¬ë” 4</td>
                                <td>2024.04.10</td>
                                <td class="text-right text-green-400">250,000,000</td>
                                <td class="text-right text-yellow-300">25,000</td>
                                <td class="text-right">1,500,000</td>
                                <td class="text-right text-red-400">â–¼ 10.0%</td>
                                <td class="text-right">500</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
        
        <!-- ======================================= 2. ìƒì„¸ í˜ì´ì§€ (Detail View) ======================================= -->
        <div id="detailView" class="hidden">
            <section class="panel p-6 md:p-8">
                <div class="flex justify-between items-center mb-6 border-b border-gray-700 pb-3">
                    <button class="text-gray-400 hover:text-white transition duration-150" onclick="navigateTo('ranking')">
                        <i class="fas fa-arrow-left mr-2"></i> ìˆœìœ„ ëª©ë¡ìœ¼ë¡œ
                    </button>
                    <h3 class="text-2xl font-bold text-white"><span id="detailMovieTitle">ë²”ì£„ë„ì‹œ 4</span> ìƒì„¸ ì •ë³´</h3>
                    <button class="py-2 px-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-150 text-sm" onclick="navigateTo('review')">
                        ë¦¬ë·° ì‘ì„± <i class="fas fa-pen ml-1"></i>
                    </button>
                </div>

                <!-- í¬ìŠ¤í„° ë° ë°•ìŠ¤ì˜¤í”¼ìŠ¤ ì •ë³´ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <!-- í¬ìŠ¤í„° Placeholder -->
                    <div class="md:col-span-1 bg-gray-700 h-96 rounded-lg flex items-center justify-center text-gray-400 text-xl font-bold">
                        [Image of í¬ìŠ¤í„°]
                    </div>
                    
                    <!-- ì˜í™” ê¸°ë³¸ ì •ë³´ (ë­í‚¹ í•„ë“œ) -->
                    <div class="md:col-span-2 space-y-3 p-4 bg-gray-700/30 rounded-lg">
                        <div class="text-4xl font-extrabold text-white mb-4"><span id="detailRank" class="text-blue-400">1ìœ„</span> <span id="detailTitle">ë²”ì£„ë„ì‹œ 4</span></div>
                        
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div class="font-medium text-gray-400">ê°œë´‰ì¼: <span id="detailRelease" class="text-white">2024.04.24</span></div>
                            <div class="font-medium text-gray-400">ìƒì˜ íšŸìˆ˜: <span id="detailScreenCount" class="text-white">1,500íšŒ</span></div>
                        </div>
                        
                        <div class="border-t border-gray-700 pt-3 grid grid-cols-2 gap-4 text-sm">
                            <div class="font-medium text-gray-400">ì¼ì¼ ë§¤ì¶œì•¡: <span id="detailDailySales" class="text-green-400 font-bold">1,500,000,000ì›</span></div>
                            <div class="font-medium text-gray-400">ì¼ì¼ ê´€ê°ìˆ˜: <span id="detailDailyAudience" class="text-yellow-300 font-bold">120,000ëª…</span></div>
                        </div>

                        <div class="border-t border-gray-700 pt-3 grid grid-cols-2 gap-4 text-sm">
                            <div class="font-medium text-gray-400">ëˆ„ì  ê´€ê°ìˆ˜: <span id="detailTotalAudience" class="text-white font-bold">4,500,000ëª…</span></div>
                            <div class="font-medium text-gray-400">ì „ì¼ëŒ€ë¹„ ì¦ê°ë¹„ìœ¨: <span id="detailIncreaseRate" class="text-green-400 font-bold">â–² 15.3%</span></div>
                        </div>
                    </div>
                </div>

                <!-- ë¦¬ë·° ëª©ë¡ ì„¹ì…˜ -->
                <h4 class="text-lg font-semibold mb-4 text-gray-300 border-b border-gray-800 pb-2">ë¦¬ë·° <span class="text-blue-400">(ì´ 3ê°œ)</span></h4>
                <div class="space-y-4">
                    <!-- Mock Review 1 -->
                    <div class="panel p-4 bg-gray-700/50">
                        <div class="flex justify-between items-center mb-2">
                            <div class="text-sm text-gray-400">
                                <span class="mr-3">ì—¬ì„± | 30ëŒ€</span>
                                <span class="text-yellow-400">â˜…â˜…â˜…â˜…â˜†</span>
                                <span class="ml-3 text-xs">[ì¥ì†Œ: ì½”ì—‘ìŠ¤ / ëª…ëŒ€ì‚¬: ë‚˜, ë§ˆë™ì„ì¸ë°...]</span>
                            </div>
                            <button class="text-red-400 text-xs hover:text-red-300">ì‚­ì œ</button>
                        </div>
                        <p class="text-gray-200">ì•¡ì…˜ì´ ì‹œì›ì‹œì›í•´ì„œ ì¢‹ì•˜ìŠµë‹ˆë‹¤. ë§ˆë™ì„ ë°°ìš°ì˜ í€ì¹˜ê°€ í™”ë©´ì„ ëš«ê³  ë‚˜ì˜¤ëŠ” ë“¯í–ˆì–´ìš”!</p>
                    </div>
                    <!-- Mock Review 2 -->
                    <div class="panel p-4 bg-gray-700/50">
                        <div class="flex justify-between items-center mb-2">
                            <div class="text-sm text-gray-400">
                                <span class="mr-3">ë‚¨ì„± | 20ëŒ€</span>
                                <span class="text-yellow-400">â˜…â˜…â˜…â˜…â˜…</span>
                                <span class="ml-3 text-xs">[ì¥ì†Œ: CGV ìš©ì‚° / ì¿ í‚¤: ìˆìŒ / ê°™ì´ ë³¸ ì‚¬ëŒ: ê°€ì¡±]</span>
                            </div>
                            <button class="text-red-400 text-xs hover:text-red-300">ì‚­ì œ</button>
                        </div>
                        <p class="text-gray-200">ì—­ëŒ€ê¸‰ ë¹ŒëŸ°ì€ ì•„ë‹ˆì—ˆì§€ë§Œ, ì‹œë¦¬ì¦ˆê°€ ê°€ì§„ ì¬ë¯¸ëŠ” í™•ì‹¤íˆ ë³´ì¥í•©ë‹ˆë‹¤. ê·¹ì¥ì—ì„œ ë´ì•¼ ì œë§›!</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- ======================================= 3. ë¦¬ë·° ì‘ì„± í˜ì´ì§€ (Review Form) ======================================= -->
        <div id="reviewForm" class="hidden">
            <section class="panel p-6 md:p-8 max-w-2xl mx-auto">
                <div class="flex justify-between items-center mb-6 border-b border-gray-700 pb-3">
                    <button class="text-gray-400 hover:text-white transition duration-150" onclick="navigateTo('detail', currentMovieId)">
                        <i class="fas fa-arrow-left mr-2"></i> ìƒì„¸ í˜ì´ì§€ë¡œ
                    </button>
                    <h3 class="text-2xl font-bold text-blue-400"><span id="reviewMovieTitle">ë²”ì£„ë„ì‹œ 4</span> ë¦¬ë·° ì‘ì„±</h3>
                    <div></div>
                </div>

                <form id="movieReviewForm" class="space-y-6">
                    
                    <!-- ê¸°ë³¸ ì •ë³´: MovieID, ì„±ë³„, ì—°ë ¹ -->
                    <div class="grid grid-cols-3 gap-4">
                         <div class="flex flex-col">
                            <label class="text-sm font-medium mb-1">Movie ID</label>
                            <input type="text" id="reviewMovieId" value="1001" class="input-style bg-gray-600" readonly>
                        </div>
                        <div class="flex flex-col">
                            <label for="reviewSex" class="text-sm font-medium mb-1">ì„±ë³„</label>
                            <select id="reviewSex" class="input-style">
                                <option value="">ì„ íƒ</option>
                                <option value="M">ë‚¨ì„±</option>
                                <option value="F">ì—¬ì„±</option>
                            </select>
                        </div>
                        
                        <div class="flex flex-col">
                            <label for="reviewAge" class="text-sm font-medium mb-1">ì—°ë ¹</label>
                            <select id="reviewAge" class="input-style">
                                <option value="">ì„ íƒ</option>
                                <option value="10">10ëŒ€</option>
                                <option value="20">20ëŒ€</option>
                                <option value="30">30ëŒ€</option>
                                <option value="40">40ëŒ€</option>
                                <option value="50+">50ëŒ€ ì´ìƒ</option>
                            </select>
                        </div>
                    </div>

                    <!-- ë³„ì  -->
                    <div class="flex flex-col">
                        <label class="text-sm font-medium mb-2">ë³„ì </label>
                        <div id="starRating" class="flex space-x-1 text-3xl cursor-pointer">
                            <i class="fas fa-star text-gray-600 hover:text-yellow-400 transition" data-rating="1"></i>
                            <i class="fas fa-star text-gray-600 hover:text-yellow-400 transition" data-rating="2"></i>
                            <i class="fas fa-star text-gray-600 hover:text-yellow-400 transition" data-rating="3"></i>
                            <i class="fas fa-star text-gray-600 hover:text-yellow-400 transition" data-rating="4"></i>
                            <i class="fas fa-star text-gray-600 hover:text-yellow-400 transition" data-rating="5"></i>
                        </div>
                        <input type="hidden" id="ratingValue" value="0">
                    </div>

                    <!-- ê²½í—˜ í•„ë“œ: ë³¸ ì¥ì†Œ, ê°™ì´ ë³¸ ì‚¬ëŒ, ì¿ í‚¤ì˜ìƒ ì—¬ë¶€ -->
                    <div class="grid grid-cols-3 gap-4">
                        <div class="flex flex-col">
                            <label for="reviewLocation" class="text-sm font-medium mb-1">ë³¸ ì¥ì†Œ</label>
                            <input type="text" id="reviewLocation" class="input-style" placeholder="ì˜ˆ: CGV ê°•ë‚¨">
                        </div>
                        <div class="flex flex-col">
                            <label for="reviewPartners" class="text-sm font-medium mb-1">ê°™ì´ ë³¸ ì‚¬ëŒ</label>
                            <input type="text" id="reviewPartners" class="input-style" placeholder="ì˜ˆ: ì¹œêµ¬, í˜¼ì, ì—°ì¸">
                        </div>
                        <div class="flex flex-col">
                            <label for="reviewCookie" class="text-sm font-medium mb-1">ì¿ í‚¤ì˜ìƒ ì—¬ë¶€</label>
                            <select id="reviewCookie" class="input-style">
                                <option value="">ì„ íƒ</option>
                                <option value="Y">ìˆìŒ</option>
                                <option value="N">ì—†ìŒ</option>
                                <option value="Maybe">ëª¨ë¦„</option>
                            </select>
                        </div>
                    </div>

                    <!-- ìƒê°ë‚˜ëŠ” ëª…ëŒ€ì‚¬ -->
                    <div class="flex flex-col">
                        <label for="reviewQuote" class="text-sm font-medium mb-1">ìƒê°ë‚˜ëŠ” ëª…ëŒ€ì‚¬</label>
                        <input type="text" id="reviewQuote" class="input-style" placeholder="ê°€ì¥ ì¸ìƒ ê¹Šì—ˆë˜ ëŒ€ì‚¬ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”">
                    </div>


                    <!-- ë¦¬ë·° ë‚´ìš© -->
                    <div class="flex flex-col">
                        <label for="reviewContent" class="text-sm font-medium mb-1">ë¦¬ë·°</label>
                        <textarea id="reviewContent" rows="5" class="input-style" placeholder="ì†”ì§í•œ ë¦¬ë·°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš” (ìµœì†Œ 10ì)"></textarea>
                    </div>
                    
                    <!-- ë¹„ë°€ë²ˆí˜¸ -->
                    <div class="flex flex-col">
                        <label for="reviewPassword" class="text-sm font-medium mb-1">ë¹„ë°€ë²ˆí˜¸ (ìˆ˜ì •/ì‚­ì œìš©)</label>
                        <input type="password" id="reviewPassword" class="input-style" placeholder="4ìë¦¬ ì´ìƒ ì…ë ¥">
                        <span class="text-xs text-gray-500 mt-1">ë¦¬ë·° ìˆ˜ì •/ì‚­ì œ ì‹œ í•„ìš”í•©ë‹ˆë‹¤.</span>
                    </div>

                    <!-- ì œì¶œ ë²„íŠ¼ -->
                    <div class="flex justify-end pt-4">
                        <button type="submit" class="py-2 px-6 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition duration-150">
                            ë¦¬ë·° ì œì¶œí•˜ê¸°
                        </button>
                    </div>
                </form>
            </section>
        </div>

    </main>

    <script>
        let currentPage = 'ranking';
        let currentMovieId = '1001';
        let currentMovieTitle = 'ë²”ì£„ë„ì‹œ 4';
        let selectedRating = 0;

        const mockMovies = {
            '1001': { 
                title: 'ë²”ì£„ë„ì‹œ 4', rank: 1, release: '2024.04.24', 
                dailySales: 1500000000, dailyAudience: 120000, totalAudience: 4500000, increaseRate: 15.3, screenCount: 1500,
                location: 'ë©”ê°€ë°•ìŠ¤ ì½”ì—‘ìŠ¤', quote: 'ë‚˜, ë§ˆë™ì„ì¸ë°...', cookie: 'ìˆìŒ (1ê°œ)', partners: 'ì¹œêµ¬ 2ëª…' 
            },
            '1002': { 
                title: 'íŒŒë¬˜', rank: 2, release: '2024.02.22', 
                dailySales: 900000000, dailyAudience: 85000, totalAudience: 10500000, increaseRate: -3.5, screenCount: 1200,
                location: 'CGV ìš©ì‚°', quote: 'ì—¬ìš°ê°€ ë²”ì˜ í—ˆë¦¬ë¥¼ ëŠì—ˆë‹¤.', cookie: 'ì—†ìŒ', partners: 'ê°€ì¡±' 
            },
            '1003': { 
                title: 'ë“„: íŒŒíŠ¸ 2', rank: 4, release: '2024.02.28', 
                dailySales: 650000000, dailyAudience: 60000, totalAudience: 2800000, increaseRate: 1.0, screenCount: 900,
                location: 'IMAX ì™•ì‹­ë¦¬', quote: 'Long live the fighters!', cookie: 'ì—†ìŒ', partners: 'ì—°ì¸' 
            },
            '1004': { 
                title: 'ì¿µí‘¸íŒ¬ë” 4', rank: 11, release: '2024.04.10', 
                dailySales: 250000000, dailyAudience: 25000, totalAudience: 1500000, increaseRate: -10.0, screenCount: 500,
                location: 'ë¡¯ë°ì‹œë„¤ë§ˆ', quote: 'The Wuxi Finger Hold!', cookie: 'ìˆìŒ (1ê°œ)', partners: 'í˜¼ì' 
            },
        };

        // ìˆ«ì í¬ë§· í•¨ìˆ˜
        const formatNumber = (num) => {
            return num.toLocaleString('ko-KR');
        };

        const renderPage = () => {
            // ëª¨ë“  ë·° ìˆ¨ê¸°ê¸°
            document.getElementById('rankingView').classList.add('hidden');
            document.getElementById('detailView').classList.add('hidden');
            document.getElementById('reviewForm').classList.add('hidden');
            
            // í—¤ë” íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
            const headerTitle = document.getElementById('headerTitle');
            
            if (currentPage === 'ranking') {
                document.getElementById('rankingView').classList.remove('hidden');
                headerTitle.textContent = 'KOBIS ì¼ì¼ ë°•ìŠ¤ì˜¤í”¼ìŠ¤';
            } else if (currentPage === 'detail') {
                document.getElementById('detailView').classList.remove('hidden');
                loadMovieDetails(currentMovieId);
                headerTitle.textContent = currentMovieTitle + ' ìƒì„¸ ì •ë³´';
            } else if (currentPage === 'review') {
                document.getElementById('reviewForm').classList.remove('hidden');
                document.getElementById('reviewMovieTitle').textContent = currentMovieTitle;
                document.getElementById('reviewMovieId').value = currentMovieId;
                headerTitle.textContent = currentMovieTitle + ' ë¦¬ë·° ì‘ì„±';
            }
        };

        const navigateTo = (page, movieId = null) => {
            if (movieId) {
                currentMovieId = movieId;
                currentMovieTitle = mockMovies[movieId] ? mockMovies[movieId].title : 'ì„ íƒëœ ì˜í™”';
            }
            currentPage = page;
            renderPage();
            window.scrollTo(0, 0); // í˜ì´ì§€ ìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
        };

        const loadMovieDetails = (movieId) => {
            const movie = mockMovies[movieId];
            if (!movie) return;

            // ìƒì„¸ í˜ì´ì§€ ì •ë³´ ì±„ìš°ê¸°
            document.getElementById('detailMovieTitle').textContent = movie.title;
            
            document.getElementById('detailRank').textContent = `${movie.rank}ìœ„`;
            document.getElementById('detailTitle').textContent = movie.title;
            document.getElementById('detailRelease').textContent = movie.release;
            document.getElementById('detailScreenCount').textContent = formatNumber(movie.screenCount) + 'íšŒ';
            document.getElementById('detailDailySales').textContent = formatNumber(movie.dailySales) + 'ì›';
            document.getElementById('detailDailyAudience').textContent = formatNumber(movie.dailyAudience) + 'ëª…';
            document.getElementById('detailTotalAudience').textContent = formatNumber(movie.totalAudience) + 'ëª…';
            
            const increaseRateElement = document.getElementById('detailIncreaseRate');
            increaseRateElement.textContent = (movie.increaseRate >= 0 ? 'â–² ' : 'â–¼ ') + Math.abs(movie.increaseRate) + '%';
            increaseRateElement.className = 'font-bold ' + (movie.increaseRate >= 0 ? 'text-green-400' : 'text-red-400');

            // ë¦¬ë·° ì‘ì„± ë²„íŠ¼ì˜ ëŒ€ìƒ ì˜í™” ID ì„¤ì •
            document.querySelector('#detailView button.bg-blue-600').onclick = () => navigateTo('review', movieId);
        };

        const handleStarRating = (rating) => {
            selectedRating = rating;
            document.getElementById('ratingValue').value = rating;
            const stars = document.querySelectorAll('#starRating i');
            stars.forEach(star => {
                const starRating = parseInt(star.getAttribute('data-rating'));
                if (starRating <= rating) {
                    star.classList.remove('text-gray-600');
                    star.classList.add('text-yellow-400');
                } else {
                    star.classList.remove('text-yellow-400');
                    star.classList.add('text-gray-600');
                }
            });
        };
        
        document.addEventListener('DOMContentLoaded', () => {
            // 1. ì´ˆê¸° í˜ì´ì§€ ë Œë”ë§
            renderPage();

            // 2. ê²€ìƒ‰ ì¡°ê±´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)
            document.getElementById('search-btn').addEventListener('click', () => {
                const date = document.getElementById('date-select').value;
                const count = document.getElementById('count-select').value;
                console.log(`[Search] ë‚ ì§œ: ${date}, ê°œìˆ˜: ${count}`);
            });
            
            document.getElementById('yesterday-btn').addEventListener('click', () => {
                 document.getElementById('date-select').value = '2024. 04. 23.';
            });

            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    document.querySelectorAll('.filter-btn').forEach(btn => {
                        btn.classList.remove('active', 'bg-gray-700', 'border-gray-700');
                        btn.classList.add('bg-gray-600', 'border-gray-600');
                    });
                    e.target.classList.add('active', 'bg-gray-700', 'border-gray-700');
                });
            });
            
            // 3. ë¦¬ë·° í¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.getElementById('starRating').addEventListener('click', (e) => {
                if (e.target.tagName === 'I' && e.target.hasAttribute('data-rating')) {
                    handleStarRating(parseInt(e.target.getAttribute('data-rating')));
                }
            });

            document.getElementById('movieReviewForm').addEventListener('submit', (e) => {
                e.preventDefault();
                const data = {
                    movieId: document.getElementById('reviewMovieId').value,
                    sex: document.getElementById('reviewSex').value,
                    age: document.getElementById('reviewAge').value,
                    rating: selectedRating,
                    content: document.getElementById('reviewContent').value,
                    password: document.getElementById('reviewPassword').value,
                    location: document.getElementById('reviewLocation').value,
                    partners: document.getElementById('reviewPartners').value,
                    cookie: document.getElementById('reviewCookie').value,
                    quote: document.getElementById('reviewQuote').value,
                };
                
                if (!data.sex || !data.age || data.rating === 0 || data.content.length < 10 || data.password.length < 4) {
                    // alert ëŒ€ì‹  ì½˜ì†” ì¶œë ¥ ë˜ëŠ” ì»¤ìŠ¤í…€ ë©”ì‹œì§€ ë°•ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” alert ì‚¬ìš©
                    alert('í•„ìˆ˜ ì •ë³´ (ì„±ë³„, ì—°ë ¹, ë³„ì , ë¦¬ë·° 10ì ì´ìƒ, ë¹„ë°€ë²ˆí˜¸ 4ìë¦¬ ì´ìƒ)ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }
                
                alert(`ë¦¬ë·° ì œì¶œ ì™„ë£Œ! (ì˜í™”: ${currentMovieTitle}, ë³„ì : ${data.rating}ì )\nì‹¤ì œ ì„œë²„ ì €ì¥ ë¡œì§ì´ í•„ìš”í•©ë‹ˆë‹¤.`);
                navigateTo('detail', data.movieId); // ì œì¶œ í›„ ìƒì„¸ í˜ì´ì§€ë¡œ ë³µê·€
            });
            
            // ì´ˆê¸° ë³„ì  ì„¤ì • (0ì )
            handleStarRating(0);
        });
    </script>
</body>
</html>